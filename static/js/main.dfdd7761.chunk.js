(this["webpackJsonpexpense-tracker-react"]=this["webpackJsonpexpense-tracker-react"]||[]).push([[0],{72:function(e,n,t){},84:function(e,n,t){"use strict";t.r(n);var r,a,c,i,s,o=t(0),d=t.n(o),j=t(28),u=t.n(j),b=(t(72),t(15)),l=t(12),h=t(10),O=t.n(h),p=t(13),m=t(7),x=t(2),f=t(37),g=(t(50),t(86)),v=t(3),w=t(1),y=v.a.div(r||(r=Object(x.a)(["\n  color: red;\n  font-size: 0.9em;\n  margin-top: 0.3em;\n"])));function S(e){return Object(w.jsx)(y,{children:Object(w.jsx)("p",{children:e.message})})}var C,k,E,T,L=v.a.div(a||(a=Object(x.a)(["\n  background: #fff;\n  @media (max-width: 768px) {\n    width: 100vw;\n    box-shadow: none;\n  }\n"]))),I=Object(v.a)(L)(c||(c=Object(x.a)(["\n  min-width: 280px;\n  padding: 1em;\n  position: absolute;\n  transform: translate(-50%);\n  left: 50%;\n\n  @media (min-width: 768px) {\n    width: 450px;\n    padding: 2em;\n    box-shadow: 0px 0px 8px 1px #e9ecef;\n  }\n"]))),N=Object(v.a)(I)(i||(i=Object(x.a)(["\n  top: 15%;\n  border-radius: 5px;\n"]))),P=Object(v.a)(I)(s||(s=Object(x.a)(["\n  top: 15%;\n  border-radius: 5px;\n"]))),A=t(25),U=t(23),z=v.a.i(C||(C=Object(x.a)(["\n  position: absolute;\n  padding: 0 0.6em;\n  font-size: 1.2em;\n  opacity: 0.7;\n  cursor: pointer;\n"]))),D=v.a.div(k||(k=Object(x.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"])));function G(e){var n=e.reference,t=Object(o.useState)(!1),r=Object(m.a)(t,2),a=r[0],c=r[1],i=Object(w.jsx)(A.a,{icon:a?U.d:U.c});return Object(w.jsxs)(D,{children:[Object(w.jsx)(g.a.Control,{type:a?"text":"password",name:"password",id:"password",placeholder:"Enter password",ref:n}),Object(w.jsx)(z,{onClick:function(){c(!a)},children:i})]})}var q,F,R,J,B,M,V,X,_,Y=v.a.div(E||(E=Object(x.a)(["\n  display: inline-block;\n  border: 2px solid #e9ecef;\n  border-radius: 5px;\n"]))),H=v.a.div(T||(T=Object(x.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  margin-top: 2em;\n"]))),Z=Object(w.jsx)(A.a,{icon:U.f}),W=Object(w.jsx)(A.a,{icon:U.a}),$=Object(w.jsx)(A.a,{icon:U.b}),K=v.a.button(q||(q=Object(x.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  border: none;\n  border-radius: 5px;\n  padding: 0.4em 1.2em;\n  transition: 0.3s ease;\n\n  width: ",";\n  margin-right: ",";\n"])),(function(e){return e.width}),(function(e){return e.marginRight})),Q=Object(v.a)(K)(F||(F=Object(x.a)(["\n  background: #f3626a;\n  border: 1px solid #f3626a;\n  &:hover {\n    background: #f46f77;\n  }\n"]))),ee=Object(v.a)(K)(R||(R=Object(x.a)(["\n  background: #fff;\n  border: 1px solid #f3626a;\n  color: #f3626a;\n"]))),ne=Object(v.a)(Q)(J||(J=Object(x.a)(["\n  width: 3em;\n  height: 3em;\n  border-radius: 50%;\n  box-shadow: 1px 1px 2px 0px #848484;\n\n  @media (max-width: 600px) {\n    position: fixed;\n    z-index: 20;\n    bottom: 30px;\n    left: 30px;\n  }\n"]))),te=v.a.button(B||(B=Object(x.a)(["\n  padding: 0.3em 1em;\n  background: #fff;\n  border: none;\n  background: ",";\n"])),(function(e){return e.isCurrent?"#e9ecef":"white"})),re=function(){return Object(w.jsx)(ne,{children:Z})},ae=v.a.button(M||(M=Object(x.a)(["\n  background: #e9ecef;\n  border: 1px solid #dee2e6;\n  border-radius: 100px;\n  padding: 0.5em 1em;\n  margin: 0 0.2em;\n"]))),ce=function(e){var n=e.onClick,t=e.disabled;return Object(w.jsx)(ae,{onClick:n,disabled:t,children:W})},ie=function(e){var n=e.onClick,t=e.disabled;return Object(w.jsx)(ae,{onClick:n,disabled:t,children:$})},se=Object(v.a)(ae)(V||(V=Object(x.a)(["\n  background: ",";\n  color: ",";\n"])),(function(e){return e.current?"#f3626a":"#e9ecef"}),(function(e){return e.current?"#ffffff":"#000000"})),oe=t(61),de="https://expense-tracker-api-java.herokuapp.com/api",je=new function e(){Object(oe.a)(this,e),this.login=function(e,n){return fetch(de+"/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:n})})},this.logout=function(){localStorage.removeItem("user")},this.signup=function(e,n,t){return fetch(de+"/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t,email:n})})},this.getCurrentUser=function(){return JSON.parse(localStorage.getItem("user"))}},ue=t(89),be=t(18),le=Object(v.a)(b.b)(X||(X=Object(x.a)(["\n  text-decoration: underline;\n  color: #f3626a;\n  margin: 0 0.3em;\n\n  &:hover {\n    color: #f46f77;\n  }\n"]))),he=v.a.div(_||(_=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 1em;\n  font-size: 0.9em;\n"])));function Oe(){var e=Object(f.a)(),n=e.register,t=e.handleSubmit,r=e.errors,a=Object(o.useState)(!1),c=Object(m.a)(a,2),i=c[0],s=c[1],d=Object(o.useState)(!1),j=Object(m.a)(d,2),u=j[0],b=j[1],h=Object(o.useState)(!1),x=Object(m.a)(h,2),v=x[0],y=x[1],C=Object(o.useState)(!1),k=Object(m.a)(C,2),E=k[0],T=k[1],L=Object(o.useState)(""),I=Object(m.a)(L,2),P=I[0],A=I[1],U=Object(be.c)((function(e){return e.auth.isLoggedIn})),z=function(){var e=Object(p.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),console.log(n),e.next=4,je.signup(n.username,n.email,n.password).then((function(e){return e.json().then((function(n){console.log(n.message),e.status&&200!==e.status?(y(!0),T(!0),A(n.message)):b(!0)}))}),(function(e){console.log(e)}));case 4:s(!1);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return u?Object(w.jsx)(l.a,{to:"/login"}):Object(w.jsxs)(N,{children:[U&&Object(w.jsx)(l.a,{to:"/dashboard"}),Object(w.jsx)("h1",{className:"text-center mt-3 mb-5",children:"Create account"}),v&&E&&Object(w.jsx)(ue.a,{variant:"danger",onClose:function(){return T(!1)},dismissible:!0,children:P}),Object(w.jsxs)(g.a,{onSubmit:t(z),children:[Object(w.jsxs)(g.a.Group,{children:[Object(w.jsx)(g.a.Label,{htmlFor:"username",children:"Username"}),Object(w.jsx)(g.a.Control,{type:"text",name:"username",id:"username",placeholder:"Enter username",ref:n({required:"The Username field is required"})}),r.username?Object(w.jsx)(S,{message:r.username.message}):null]}),Object(w.jsxs)(g.a.Group,{children:[Object(w.jsx)(g.a.Label,{htmlFor:"email",children:"Email"}),Object(w.jsx)(g.a.Control,{type:"email",name:"email",id:"email",placeholder:"Enter email",ref:n({required:"The Email field is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),r.email?Object(w.jsx)(S,{message:r.email.message}):null]}),Object(w.jsxs)(g.a.Group,{children:[Object(w.jsx)(g.a.Label,{htmlFor:"password",children:"Password"}),Object(w.jsx)(G,{reference:n({required:"The Password field is required"})}),r.password?Object(w.jsx)(S,{message:r.password.message}):null]}),Object(w.jsx)(H,{children:Object(w.jsx)(Q,{type:"submit",disabled:i,width:"100%",children:"Create account"})}),Object(w.jsxs)(he,{children:[Object(w.jsx)("p",{children:"You already have an account?"}),Object(w.jsx)(le,{to:"/login",children:"Log in"})]})]})]})}var pe,me,xe="SIGNUP_SUCCESS",fe="SIGNUP_FAILURE",ge="SIGNIN_SUCCESS",ve="SIGNIN_FAILURE",we="LOGOUT",ye=Object(v.a)(b.b)(pe||(pe=Object(x.a)(["\n  text-decoration: underline;\n  color: #f3626a;\n  margin: 0 0.3em;\n\n  &:hover {\n    color: #f46f77;\n  }\n"]))),Se=v.a.div(me||(me=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 1em;\n  font-size: 0.9em;\n"])));function Ce(){var e=Object(f.a)(),n=e.register,t=e.handleSubmit,r=e.errors,a=Object(o.useState)(!1),c=Object(m.a)(a,2),i=c[0],s=c[1],d=Object(o.useState)(!1),j=Object(m.a)(d,2),u=j[0],b=j[1],h=Object(o.useState)(!1),O=Object(m.a)(h,2),p=O[0],x=O[1],v=Object(be.b)(),y=Object(l.g)(),C=(Object(l.h)().state||{from:{pathname:"/"}}).from,k=Object(be.c)((function(e){return e.auth.isLoggedIn}));return Object(w.jsxs)(N,{children:[k&&Object(w.jsx)(l.a,{to:"/dashboard"}),Object(w.jsx)("h1",{className:"text-center mt-3 mb-5",children:"Log in"}),u&&p&&Object(w.jsx)(ue.a,{variant:"danger",onClose:function(){return x(!1)},dismissible:!0,children:"Invalid username or password."}),Object(w.jsxs)(g.a,{onSubmit:t((function(e){s(!0),x(!1);try{v((n=e.username,t=e.password,function(e){return je.login(n,t).then((function(n){return n.json().then((function(t){return console.log(n),n.ok?(t.accessToken&&localStorage.setItem("user",JSON.stringify(t)),e({type:ge,payload:{user:t}})):e({type:ve}),n}))}))})).then((function(e){e.ok?(console.log(C.pathname),"/"===C.pathname?y.replace("/dashboard"):y.replace(C)):(b(!0),x(!0))}))}catch(r){x(!0)}finally{s(!1)}var n,t})),children:[Object(w.jsxs)(g.a.Group,{children:[Object(w.jsx)(g.a.Label,{htmlFor:"username",children:"Username"}),Object(w.jsx)(g.a.Control,{type:"text",name:"username",id:"username",placeholder:"Enter username",ref:n({required:"The Username field is required"})}),r.username?Object(w.jsx)(S,{message:r.username.message}):null]}),Object(w.jsxs)(g.a.Group,{children:[Object(w.jsx)(g.a.Label,{htmlFor:"password",children:"Password"}),Object(w.jsx)(G,{reference:n({required:"The Password field is required"})}),r.password?Object(w.jsx)(S,{message:r.password.message}):null]}),Object(w.jsx)(H,{children:Object(w.jsx)(Q,{type:"submit",disabled:i,width:"100%",children:"Log in"})}),Object(w.jsxs)(Se,{children:[Object(w.jsx)("p",{children:"You don't have an account yet?"}),Object(w.jsx)(ye,{to:"/register",children:"Create an account"})]})]})]})}t(83);var ke=t(46);function Ee(e){var n=e.transaction,t=e.onSubmit,r=e.dataLoading,a=e.submitting,c=e.submitButtonText,i=Object(l.g)(),s=Object(f.a)(),o=s.register,d=s.handleSubmit,j=s.errors;return Object(w.jsx)("div",{children:a||r?Object(w.jsx)(ke.a,{animation:"border",role:"status",children:Object(w.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(w.jsxs)(g.a,{onSubmit:d(t),children:[Object(w.jsxs)(g.a.Group,{children:[Object(w.jsx)(g.a.Label,{htmlFor:"Description",children:"Description"}),Object(w.jsx)(g.a.Control,{type:"text",name:"description",id:"description",placeholder:"Enter description",defaultValue:n.description,ref:o({required:"The Description field is required"})}),j.description?Object(w.jsx)(S,{message:j.description.message}):null]}),Object(w.jsxs)(g.a.Group,{children:[Object(w.jsx)(g.a.Label,{htmlFor:"Date",children:"Date"}),Object(w.jsx)(g.a.Control,{type:"date",name:"date",id:"date",defaultValue:n.date,ref:o({required:"The Date field is required"})}),j.date?Object(w.jsx)(S,{message:j.date.message}):null]}),Object(w.jsxs)(g.a.Group,{children:[Object(w.jsx)(g.a.Label,{htmlFor:"Amount",children:"Amount"}),Object(w.jsx)(g.a.Control,{type:"number",name:"amount",id:"amount",defaultValue:n.amount,placeholder:"Enter amount",ref:o({required:"The Amount field is required"})}),j.amount?Object(w.jsx)(S,{message:j.amount.message}):null]}),Object(w.jsxs)(g.a.Group,{children:[Object(w.jsx)(g.a.Label,{children:"Type"}),Object(w.jsxs)(g.a.Control,{as:"select",name:"type",defaultValue:n.type,placeholder:"Choose type",ref:o({required:"The Type field is required"}),children:[Object(w.jsx)("option",{children:"INCOME"}),Object(w.jsx)("option",{children:"EXPENSE"})]})]}),Object(w.jsxs)(H,{children:[Object(w.jsx)(Q,{type:"submit",marginRight:"1em",children:c}),Object(w.jsx)(ee,{onClick:function(){i.push("/dashboard")},children:"Cancel"})]})]})})}function Te(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{Authorization:"Bearer "+e.accessToken}:{}}var Le,Ie=function(){var e=Object(p.a)(O.a.mark((function e(){var n,t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Te(),t=n.Authorization,e.abrupt("return",fetch(de+"/transactions/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:t}}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(p.a)(O.a.mark((function e(n){var t,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Te(),r=t.Authorization,e.abrupt("return",fetch(de+"/transactions/"+n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:r}}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(p.a)(O.a.mark((function e(n){var t,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Te(),r=t.Authorization,e.abrupt("return",fetch(de+"/transactions/"+n.id,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify(n)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(p.a)(O.a.mark((function e(n){var t,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Te(),r=t.Authorization,e.next=3,fetch(de+"/transactions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify(n)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(p.a)(O.a.mark((function e(n){var t,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Te(),r=t.Authorization,e.next=3,fetch(de+"/transactions/"+n,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:r}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function ze(){var e=Object(o.useState)(!1),n=Object(m.a)(e,2),t=n[0],r=n[1],a=Object(o.useState)(!1),c=Object(m.a)(a,2),i=c[0],s=c[1],d=Object(o.useState)("An error occured while creating new transaction."),j=Object(m.a)(d,2),u=j[0],b=(j[1],Object(o.useState)(!1)),h=Object(m.a)(b,2),x=h[0],f=h[1];function g(){return(g=Object(p.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),f(!1),n.userId=je.getCurrentUser().id,n.currency="USD",e.prev=4,e.next=7,Ae(n);case 7:e.sent.ok?s(!0):f(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),f(!0);case 14:return e.prev=14,r(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[4,11,14,17]])})))).apply(this,arguments)}return Object(w.jsxs)(P,{children:[i&&Object(w.jsx)(l.a,{to:"/dashboard"}),Object(w.jsx)("h1",{children:"New transaction"}),u&&x&&Object(w.jsx)(ue.a,{variant:"danger",onClose:function(){return f(!1)},dismissible:!0,children:u}),Object(w.jsx)(Ee,{transaction:{date:(new Date).toISOString().slice(0,10)},submitting:t,onSubmit:function(e){return g.apply(this,arguments)},submitButtonText:"Create transaction"})]})}function De(){var e=Object(o.useState)({}),n=Object(m.a)(e,2),t=n[0],r=n[1],a=Object(l.i)().id,c=Object(o.useState)(!1),i=Object(m.a)(c,2),s=i[0],d=i[1],j=Object(o.useState)(!1),u=Object(m.a)(j,2),b=u[0],h=u[1],x=Object(o.useState)(!1),f=Object(m.a)(x,2),g=f[0],v=f[1],y=Object(o.useState)("Transaction not found."),S=Object(m.a)(y,2),C=S[0],k=S[1],E=Object(o.useState)(!1),T=Object(m.a)(E,2),L=T[0],I=T[1];function N(){return(N=Object(p.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),I(!1),k("Transaction not found."),n.id=a,n.userId=je.getCurrentUser().id,n.currency="USD",e.prev=6,e.next=9,Pe(n);case 9:e.sent.ok?v(!0):(I(!0),k("An error occured while updating transaction.")),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),I(!0);case 16:return e.prev=16,h(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[6,13,16,19]])})))).apply(this,arguments)}return Object(o.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var n,t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,Ne(a);case 4:return n=e.sent,e.next=7,n.json();case 7:t=e.sent,n.ok?r(t):k("Transaction not found."),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),k("Transaction not found."),I(!0);case 15:return e.prev=15,h(!1),d(!1),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[0,11,15,19]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a]),Object(w.jsxs)(P,{children:[g&&Object(w.jsx)(l.a,{to:"/dashboard"}),C&&L&&Object(w.jsx)(ue.a,{variant:"danger",onClose:function(){return I(!1)},dismissible:!0,children:C}),t?Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{children:"Edit transaction"}),Object(w.jsx)(Ee,{transaction:t,submitting:b,dataLoading:s,onSubmit:function(e){return N.apply(this,arguments)},submitButtonText:"Update transaction"})]}):Object(w.jsx)("div",{children:Object(w.jsx)("p",{children:"Transaction not found."})})]})}var Ge=v.a.div(Le||(Le=Object(x.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0;\n  padding: 2em;\n"])));function qe(e){for(var n=e.elementsPerPage,t=e.totalElements,r=e.currentPage,a=e.paginate,c=e.pageUp,i=e.pageDown,s=e.reset,d=[],j=1;j<=Math.ceil(t/n);j++)d.push(j);return Object(o.useEffect)((function(){t<=n&&s()}),[t,n,s]),Object(w.jsx)("div",{children:t>n&&Object(w.jsxs)(Ge,{children:[Object(w.jsx)(ce,{disabled:1===r,onClick:function(){return i()}}),d.map((function(e){return Object(w.jsx)("span",{children:Object(w.jsx)(se,{current:r===e,onClick:function(){return a(e)},children:e})},e)})),Object(w.jsx)(ie,{disabled:r===d.length,onClick:function(){return c()}})]})})}var Fe,Re,Je,Be,Me,Ve,Xe,_e,Ye,He,Ze={USD:"$",EUR:"\u20ac",CRC:"\u20a1",GBP:"\xa3",ILS:"\u20aa",INR:"\u20b9",JPY:"\xa5",KRW:"\u20a9",NGN:"\u20a6",PHP:"\u20b1",PLN:"z\u0142",PYG:"\u20b2",THB:"\u0e3f",UAH:"\u20b4",VND:"\u20ab"},We=v.a.i(Fe||(Fe=Object(x.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  font-size: 1em;\n  opacity: 0.8;\n  cursor: pointer;\n\n  @media (min-width: 768px) {\n    font-size: 1.2em;\n  }\n"]))),$e=Object(v.a)(We)(Re||(Re=Object(x.a)(["\n  color: black;\n  &:hover {\n    color: orange;\n    transition: 0.2s;\n  }\n"]))),Ke=Object(v.a)(We)(Je||(Je=Object(x.a)(["\n  color: black;\n  &:hover {\n    color: red;\n    transition: 0.2s;\n  }\n"]))),Qe=v.a.div(Be||(Be=Object(x.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-bottom: 1px solid #f3f3f3;\n  padding: 1em 0.5em;\n\n  @media (min-width: 768px) {\n    padding: 1em 2em;\n  }\n"]))),en=v.a.p(Me||(Me=Object(x.a)(["\n  margin: 0;\n  overflow-wrap: break-word;\n\n  @media (min-width: 768px) {\n    font-size: 1.2em;\n  }\n"]))),nn=v.a.p(Ve||(Ve=Object(x.a)(["\n  font-size: 0.8em;\n  margin: 0;\n"]))),tn=v.a.div(Xe||(Xe=Object(x.a)(["\n  display: flex;\n  font-weight: bold;\n  padding-right: 1em;\n  margin: 0;\n\n  ","\n  ","\n"])),(function(e){return"EXPENSE"===e.transactionType&&"\n      color: #c1121f;\n    "}),(function(e){return"INCOME"===e.transactionType&&"\n      color: #008000;\n    "})),rn=v.a.div(_e||(_e=Object(x.a)(["\n  height: 40px;\n  width: 40px;\n\n  @media (min-width: 768px) {\n    height: 50px;\n    width: 50px;\n  }\n"]))),an=Object(v.a)(rn)(Ye||(Ye=Object(x.a)(["\n  flex-grow: 1;\n"])));function cn(e){var n=e.transaction,t=e.onRemove,r=(e.onEdit,Object(w.jsx)(A.a,{icon:U.e})),a=Object(w.jsx)(A.a,{icon:U.g});return Object(w.jsxs)(Qe,{children:[Object(w.jsxs)(an,{children:[Object(w.jsx)(en,{children:n.description.length>18?n.description.substring(0,18)+"...":n.description}),Object(w.jsx)(nn,{children:n.date})]}),Object(w.jsxs)(tn,{transactionType:n.type,children:[void 0!==Ze[n.currency]?Ze[n.currency]:n.currency,n.amount]}),Object(w.jsx)(b.b,{to:"/transactions/edit/"+n.id,children:Object(w.jsx)(rn,{children:Object(w.jsx)($e,{children:r})})}),Object(w.jsx)(rn,{onClick:function(){return t(n.id)},children:Object(w.jsx)(Ke,{children:a})})]})}var sn=v.a.div(He||(He=Object(x.a)(["\n  padding: 1em;\n\n  @media (min-width: 768px) {\n    padding: 1em 2em;\n  }\n"])));function on(){return Object(w.jsx)(sn,{children:Object(w.jsx)("h3",{children:"No transactions found."})})}function dn(e){var n=e.transactions,t=e.onRemove,r=e.onEdit,a=Object(o.useState)(1),c=Object(m.a)(a,2),i=c[0],s=c[1],d=Object(o.useState)(5),j=Object(m.a)(d,1)[0],u=i*j,b=u-j,l=n.slice(b,u);return Object(w.jsxs)("div",{children:[n.length?l.map((function(e){return Object(w.jsx)(cn,{transaction:e,onRemove:t,onEdit:r},e.id)})):Object(w.jsx)(on,{}),Object(w.jsx)(qe,{elementsPerPage:j,totalElements:n.length,currentPage:i,paginate:function(e){return s(e)},pageUp:function(){return s(i+1)},pageDown:function(){return s(i-1)},reset:function(){return s(1)}})]})}var jn,un,bn,ln,hn,On,pn=t(20),mn=v.a.div(jn||(jn=Object(x.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  border-bottom: 1px solid #f3f3f3;\n  padding: 0.5em;\n\n  @media (min-width: 768px) {\n    padding: 1em;\n  }\n"]))),xn=v.a.div(un||(un=Object(x.a)(["\n  padding: 1em 0.5em;\n\n  @media (min-width: 768px) {\n    padding: 1em;\n  }\n"]))),fn=Object(v.a)(xn)(bn||(bn=Object(x.a)(["\n  margin-right: 1em;\n\n  @media (min-width: 768px) {\n    margin-right: 2em;\n  }\n"]))),gn=Object(v.a)(xn)(ln||(ln=Object(x.a)(["\n  flex-grow: 1;\n  text-align: right;\n"]))),vn=v.a.p(hn||(hn=Object(x.a)(["\n  font-size: 0.7em;\n  margin: 0;\n"]))),wn=v.a.p(On||(On=Object(x.a)(["\n  font-size: 1em;\n  font-weight: bold;\n  margin: 0;\n\n  @media (min-width: 768px) {\n    font-size: 1.2em;\n  }\n"])));function yn(e){var n=e.transactions,t=e.currency,r=Object(o.useState)({}),a=Object(m.a)(r,2),c=a[0],i=a[1];return Object(o.useEffect)((function(){var e,t=0,r=0,a=Object(pn.a)(n);try{for(a.s();!(e=a.n()).done;){var c=e.value;"EXPENSE"===c.type?t+=c.amount:r+=c.amount}}catch(s){a.e(s)}finally{a.f()}i({expenseSum:t,incomeSum:r,balance:r-t})}),[n]),Object(w.jsxs)(mn,{children:[Object(w.jsxs)(fn,{children:[Object(w.jsx)(vn,{children:"Total Expense"}),Object(w.jsxs)(wn,{children:[void 0!==Ze[t]?Ze[t]:t,c.expenseSum]})]}),Object(w.jsxs)(fn,{children:[Object(w.jsx)(vn,{children:"Total Income"}),Object(w.jsxs)(wn,{children:[void 0!==Ze[t]?Ze[t]:t,c.incomeSum]})]}),Object(w.jsxs)(gn,{children:[Object(w.jsx)(vn,{children:"Balance"}),Object(w.jsxs)(wn,{children:[c.balance<0?"-":"",void 0!==Ze[t]?Ze[t]:t,Math.abs(c.balance)]})]})]})}var Sn,Cn,kn,En=t(17);function Tn(e){var n=e.setType,t=e.type;return Object(w.jsxs)(Y,{children:[Object(w.jsx)(te,{isCurrent:"ALL"===t,onClick:function(){return n("ALL")},children:"All"}),Object(w.jsx)(te,{isCurrent:"EXPENSE"===t,onClick:function(){return n("EXPENSE")},children:"Expense"}),Object(w.jsx)(te,{isCurrent:"INCOME"===t,onClick:function(){return n("INCOME")},children:"Income"})]})}var Ln,In,Nn,Pn,An,Un=v.a.div(Sn||(Sn=Object(x.a)(["\n  padding: 1em 0.5em;\n\n  @media (min-width: 768px) {\n    padding: 1em 2em;\n  }\n"]))),zn=v.a.div(Cn||(Cn=Object(x.a)(["\n  margin-bottom: 1em;\n"]))),Dn=(v.a.p(kn||(kn=Object(x.a)(["\n  margin: 0.4em;\n"]))),v.a.form(Ln||(Ln=Object(x.a)(["\n  width: 100%;\n  border: none;\n"])))),Gn=v.a.input(In||(In=Object(x.a)(["\n  width: 100%;\n  border: none;\n  border-radius: 5px;\n  background-color: #e9ecef;\n  padding: 0.5em 1em;\n  &:focus {\n    outline-color: #dee2e6;\n  }\n"])));function qn(e){var n=e.description,t=e.setDescription;return Object(w.jsx)(Dn,{children:Object(w.jsx)(Gn,{type:"text",placeholder:"Search",value:n,onChange:function(e){t(e.target.value)}})})}function Fn(e){var n=e.filterParams,t=e.setFilterParams,r=Object(o.useState)("ALL"),a=Object(m.a)(r,2),c=a[0],i=a[1],s=Object(o.useState)(""),d=Object(m.a)(s,2),j=d[0],u=d[1];return Object(o.useEffect)((function(){console.log(j),t(Object(En.a)(Object(En.a)({},n),{},{type:c,description:j}))}),[c,j]),Object(w.jsxs)(Un,{children:[Object(w.jsx)(zn,{children:Object(w.jsx)(qn,{description:j,setDescription:u})}),Object(w.jsx)(zn,{children:Object(w.jsx)(Tn,{type:c,setType:i})})]})}var Rn,Jn,Bn=v.a.div(Nn||(Nn=Object(x.a)(["\n  display: flex;\n  align-items: center;\n  padding: 0.5em;\n\n  @media (min-width: 768px) {\n    padding: 1em 2em;\n  }\n"]))),Mn=v.a.div(Pn||(Pn=Object(x.a)(["\n  flex-grow: 1;\n  text-align: left;\n"]))),Vn=v.a.h1(An||(An=Object(x.a)(["\n  margin: 0;\n"])));function Xn(){return Object(w.jsxs)(Bn,{children:[Object(w.jsx)(Mn,{children:Object(w.jsx)(Vn,{children:"Transactions"})}),Object(w.jsx)(b.b,{to:"/transactions/new",children:Object(w.jsx)(re,{})})]})}var _n,Yn,Hn,Zn,Wn,$n,Kn=v.a.div(Rn||(Rn=Object(x.a)(["\n  width: 90vw;\n\n  @media (min-width: 768px) and (max-width: 999px) {\n    width: 80vw;\n  }\n\n  @media (min-width: 1000px) {\n    width: 50vw;\n  }\n"]))),Qn=v.a.div(Jn||(Jn=Object(x.a)(["\n  width: 100vw;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 1em 0;\n"])));function et(){var e=Object(o.useState)([]),n=Object(m.a)(e,2),t=n[0],r=n[1],a=Object(o.useState)([]),c=Object(m.a)(a,2),i=c[0],s=c[1],d=Object(o.useState)({type:"ALL"}),j=Object(m.a)(d,2),u=j[0],b=j[1],l=Object(o.useState)(!0),h=Object(m.a)(l,2),O=h[0],p=h[1];return Object(o.useEffect)((function(){s(t.filter((function(e){return("ALL"===u.type||e.type===u.type)&&e.description.toLowerCase().includes(u.description.toLowerCase())})))}),[t,u]),Object(o.useEffect)((function(){p(!0),Ie().then((function(e){return e.json()})).then((function(e){r(e),s(e)})),p(!1)}),[]),Object(w.jsx)(Qn,{children:Object(w.jsxs)(Kn,{children:[Object(w.jsx)(Xn,{}),Object(w.jsx)(Fn,{filterParams:u,setFilterParams:b}),Object(w.jsx)(yn,{transactions:i,currency:"USD"}),O?Object(w.jsx)(ke.a,{animation:"border",role:"status",children:Object(w.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(w.jsx)(dn,{transactions:i,onRemove:function(e){Ue(e),r(t.filter((function(n){return n.id!==e})))}})]})})}var nt=v.a.div(_n||(_n=Object(x.a)(["\n  width: 90vw;\n\n  @media (min-width: 768px) and (max-width: 999px) {\n    width: 80vw;\n  }\n\n  @media (min-width: 1000px) {\n    width: 50vw;\n  }\n"]))),tt=v.a.div(Yn||(Yn=Object(x.a)(["\n  width: 100vw;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 2em 0;\n"]))),rt=v.a.div(Hn||(Hn=Object(x.a)(["\n  border: 1px solid #f3f3f3;\n  display: flex;\n  align-items: center;\n  jusitfy-content: center;\n  padding: 1em 2em;\n  margin: 1em 0;\n"]))),at=v.a.div(Zn||(Zn=Object(x.a)(["\n  flex-grow: 1;\n"]))),ct=v.a.p(Wn||(Wn=Object(x.a)(["\n  font-size: 0.8em;\n  font-weight: bold;\n  margin: 0;\n"]))),it=v.a.p($n||($n=Object(x.a)(["\n  margin: 0;\n"])));function st(){var e=Object(o.useState)(null),n=Object(m.a)(e,2),t=n[0],r=n[1];return Object(o.useEffect)((function(){r(je.getCurrentUser())}),[]),Object(w.jsx)("div",{children:t&&Object(w.jsx)(tt,{children:Object(w.jsxs)(nt,{children:[Object(w.jsx)("h1",{children:"Profile"}),Object(w.jsx)(rt,{children:Object(w.jsxs)(at,{children:[Object(w.jsx)(ct,{children:"Username"}),Object(w.jsx)(it,{children:t.username})]})}),Object(w.jsx)(rt,{children:Object(w.jsxs)(at,{children:[Object(w.jsx)(ct,{children:"Email address"}),Object(w.jsx)(it,{children:t.email})]})})]})})})}var ot,dt,jt,ut,bt=t.p+"static/media/home.839a243e.svg",lt=v.a.div(ot||(ot=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100vw;\n  height: 100vh;\n"]))),ht=v.a.div(dt||(dt=Object(x.a)(["\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  max-width: 100%;\n  max-height: 100%;\n"]))),Ot=v.a.div(jt||(jt=Object(x.a)(["\n  display: flex;\n  margin: 1em;\n"]))),pt=v.a.img(ut||(ut=Object(x.a)(["\n  position: relative;\n  max-width: 100%;\n  max-height: 1000%;\n"])));function mt(){var e=Object(l.g)(),n=Object(be.c)((function(e){return e.auth.isLoggedIn}));return Object(w.jsxs)(lt,{children:[n&&Object(w.jsx)(l.a,{to:"/dashboard"}),Object(w.jsxs)(ht,{children:[Object(w.jsx)("h1",{children:"Expense tracker"}),Object(w.jsx)("p",{children:"Start managing your expenses with us"}),Object(w.jsxs)(Ot,{children:[Object(w.jsx)(Q,{marginRight:"1em",onClick:function(){e.push("/register")},children:"Create account"}),Object(w.jsx)(ee,{onClick:function(){e.push("/login")},children:"Log in"})]})]}),Object(w.jsx)(pt,{src:bt,alt:"Person managing his expenses"})]})}var xt=t(67);function ft(e){var n=e.children,t=e.userAuthenticated,r=Object(xt.a)(e,["children","userAuthenticated"]);return Object(w.jsx)(l.b,Object(En.a)(Object(En.a)({},r),{},{render:function(e){var r=e.location;return t?n:Object(w.jsx)(l.a,{to:{pathname:"/login",state:{from:r}}})}}))}var gt,vt=t(88),wt=t(87);function yt(){var e=Object(be.b)(),n=Object(l.g)(),t=Object(be.c)((function(e){return e.auth.isLoggedIn}));return console.log(t),t&&Object(w.jsx)(ee,{onClick:function(){e((function(e){je.logout(),e({type:we})})),n.push("/")},children:"Log out"})}var St=Object(v.a)(b.b)(gt||(gt=Object(x.a)(["\n  text-decoration: none;\n  color: #002e63;\n  margin: 0 1em;\n\n  &:hover {\n    text-decoration: none;\n  }\n"])));function Ct(){return Object(be.c)((function(e){return e.auth.isLoggedIn}))&&Object(w.jsxs)(vt.a,{bg:"light",expand:"lg",children:[Object(w.jsx)(vt.a.Brand,{children:Object(w.jsx)(St,{to:"/dashboard",children:"ET"})}),Object(w.jsx)(vt.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(w.jsxs)(vt.a.Collapse,{id:"basic-navbar-nav",children:[Object(w.jsxs)(wt.a,{className:"mr-auto",children:[Object(w.jsx)(St,{to:"/dashboard",children:"Dashboard"}),Object(w.jsx)(St,{to:"/profile",children:"Profile"})]}),Object(w.jsx)(wt.a,{className:"ml-auto ",children:Object(w.jsx)(yt,{})})]})]})}var kt=function(){var e=Object(be.c)((function(e){return e.auth.isLoggedIn}));return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(b.a,{children:Object(w.jsxs)("div",{children:[Object(w.jsx)(Ct,{}),Object(w.jsxs)(l.d,{children:[Object(w.jsx)(l.b,{exact:!0,path:"/",children:Object(w.jsx)(mt,{})}),Object(w.jsx)(l.b,{path:"/login",children:Object(w.jsx)(Ce,{})}),Object(w.jsx)(ft,{path:"/dashboard",userAuthenticated:e,children:Object(w.jsx)(et,{})}),Object(w.jsx)(ft,{path:"/profile",userAuthenticated:e,children:Object(w.jsx)(st,{})}),Object(w.jsx)(l.b,{path:"/register",children:Object(w.jsx)(Oe,{})}),Object(w.jsx)(ft,{path:"/transactions/new",userAuthenticated:e,children:Object(w.jsx)(ze,{})}),Object(w.jsx)(ft,{path:"/transactions/edit/:id",userAuthenticated:e,children:Object(w.jsx)(De,{})}),Object(w.jsx)(l.b,{path:"*",children:Object(w.jsx)(l.a,{to:"/"})})]})]})})})},Et=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,90)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),r(e),a(e),c(e),i(e)}))},Tt=t(29),Lt=t(65),It=t(66),Nt=JSON.parse(localStorage.getItem("user")),Pt=Nt?{isLoggedIn:!0,user:Nt}:{isLoggedIn:!1,user:null},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.payload;switch(t){case xe:case fe:return Object(En.a)(Object(En.a)({},e),{},{isLoggedIn:!1});case ge:return Object(En.a)(Object(En.a)({},e),{},{isLoggedIn:!0,user:r.user});case ve:case we:return Object(En.a)(Object(En.a)({},e),{},{isLoggedIn:!1,user:null});default:return e}},Ut=Object(Tt.combineReducers)({auth:At}),zt=Object(Tt.createStore)(Ut,Object(It.composeWithDevTools)(Object(Tt.applyMiddleware)(Lt.a)));u.a.render(Object(w.jsx)(d.a.StrictMode,{children:Object(w.jsx)(be.a,{store:zt,children:Object(w.jsx)(kt,{})})}),document.getElementById("root")),Et()}},[[84,1,2]]]);
//# sourceMappingURL=main.dfdd7761.chunk.js.map